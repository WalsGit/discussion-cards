{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@walsgit/discussion-cards/./src/forum/compat.js","webpack://@walsgit/discussion-cards/./src/forum/components/CardItem.js","webpack://@walsgit/discussion-cards/./src/forum/components/LastReplies.js","webpack://@walsgit/discussion-cards/./src/forum/components/ListItem.js","webpack://@walsgit/discussion-cards/./src/forum/helpers/getPostImage.js","webpack://@walsgit/discussion-cards/./src/forum/index.js","webpack://@walsgit/discussion-cards/./src/forum/utils/craftBadges.js","webpack://@walsgit/discussion-cards/./src/forum/utils/craftTags.js","webpack://@walsgit/discussion-cards/external assign \"flarum.core\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['app']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/Component']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/components/Button']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/components/Dropdown']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/components/Link']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/components/LoadingIndicator']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/components/Placeholder']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/helpers/avatar']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/helpers/username']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/utils/humanTime']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/utils/string']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['extend']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['forum/components/DiscussionList']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['forum/components/IndexPage']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['forum/states/DiscussionListState']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['forum/utils/DiscussionControls']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['tags/utils/sortTags']\"","webpack://@walsgit/discussion-cards/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@walsgit/discussion-cards/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@walsgit/discussion-cards/webpack/bootstrap","webpack://@walsgit/discussion-cards/webpack/runtime/compat get default export","webpack://@walsgit/discussion-cards/webpack/runtime/define property getters","webpack://@walsgit/discussion-cards/webpack/runtime/hasOwnProperty shorthand","webpack://@walsgit/discussion-cards/webpack/runtime/make namespace object","webpack://@walsgit/discussion-cards/./forum.js"],"sourcesContent":["import CardItem from './components/CardItem';\r\nimport ListItem from './components/ListItem';\r\nimport LastReplies from './components/LastReplies';\r\nimport craftTags from \"./utils/craftTags\";\r\nimport craftBadges from \"./utils/craftBadges\";\r\n\r\nexport default {\r\n  'walsgit/discussion/cards/components/CardItem': CardItem,\r\n  'walsgit/discussion/cards/components/ListItem': ListItem,\r\n  'walsgit/discussion/cards/components/LastReplies': LastReplies,\r\n  'walsgit/discussion/cards/utils/craftTags': craftTags,\r\n  'walsgit/discussion/cards/utils/craftBadges': craftBadges,\r\n};\r\n","import Component from \"flarum/common/Component\";\r\nimport craftBadges from \"../utils/craftBadges\";\r\nimport getPostImage from \"../helpers/getPostImage\";\r\nimport craftTags from \"../utils/craftTags\";\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport username from 'flarum/common/helpers/username';\r\nimport Dropdown from 'flarum/common/components/Dropdown';\r\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\r\nimport Link from 'flarum/common/components/Link';\r\nimport {truncate} from 'flarum/common/utils/string';\r\nimport LastReplies from './LastReplies';\r\n\r\n\r\nexport default class cardItem extends Component {\r\n\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n    this.discussion = this.attrs.discussion;\r\n  }\r\n\r\n  view() {\r\n    const discussion = this.discussion;\r\n    const settings = JSON.parse(app.forum.attribute('walsgitDiscussionCards'));\r\n    const isRead = settings.markCards === 1 && (!discussion.isRead() && app.session.user) ? 'Unread' : '';\r\n    const attrs = {};\r\n    attrs.className = \"wrapImg\" + (settings.cardFooter === 1 ? \" After\" : '');\r\n    const image = getPostImage(discussion.firstPost());\r\n    const media = image\r\n      ? <img src={image}\r\n             className=\"previewCardImg\"\r\n             alt={discussion.title()}\r\n             loading=\"lazy\"/>\r\n      : <div className=\"imgStub\"/>\r\n\r\n    return (\r\n      <div key={discussion.id()}\r\n           data-id={discussion.id()}\r\n           className={\"CardsListItem Card \" + isRead + (discussion.isHidden() ? \" Hidden\" : \"\")}>\r\n        {DiscussionControls.controls(discussion, this).toArray().length\r\n          ? m(Dropdown, {\r\n            icon: 'fas fa-ellipsis-v',\r\n            className: 'DiscussionListItem-controls',\r\n            buttonClassName: 'Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right',\r\n          }, DiscussionControls.controls(discussion, this).toArray())\r\n          : ''}\r\n        <Link href={app.route.discussion(discussion, 0)}\r\n              className=\"cardLink\">\r\n          {settings.cardBadges === 1\r\n            ? craftBadges(discussion.badges().toArray())\r\n            : ''}\r\n\r\n          <div {...attrs}>\r\n            {settings.Views === 1 && !isNaN(discussion.views())\r\n              ? <div className=\"imageLabel discussionViews\">\r\n                {icon('fas fa-eye', {className: 'labelIcon'})}\r\n                {discussion.views()}\r\n              </div>\r\n              : ''}\r\n            {media}\r\n\r\n            {settings.cardFooter === 1\r\n              ? <div className=\"cardFoot\">\r\n                <div className=\"Author\">\r\n                  {username(discussion.user())}\r\n                </div>\r\n                <div className=\"Date\">\r\n                  {humanTime(discussion.createdAt())}\r\n                </div>\r\n              </div>\r\n              : ''}\r\n\r\n          </div>\r\n\r\n          <div className=\"cardTags\">{craftTags(discussion.tags())}</div>\r\n          <div className=\"cardTitle\"><h2>{discussion.title()}</h2></div>\r\n          {settings.previewText === 1 && discussion.firstPost()\r\n            ? <div className=\"previewPost\">{truncate(discussion.firstPost().contentPlain(), 150)}</div>\r\n            : ''}\r\n\r\n          {settings.Replies === 1\r\n            ? <div className=\"cardSpacer\">\r\n              <Link\r\n                className=\"Replies\"\r\n                href={app.route.discussion(discussion, discussion.lastPostNumber())}>\r\n                <div className=\"Left\">\r\n                  <div className=\"Avatars\">\r\n                    {m(LastReplies, {discussion: discussion})}\r\n                  </div>\r\n                  <div className=\"Repcount\">\r\n                    {app.translator.trans('walsgit.forum.replies', {count: discussion.replyCount() || '0'})}\r\n                  </div>\r\n                </div>\r\n                <div className=\"Arrow\">\r\n                  {icon('fas fa-angle-right')}\r\n                </div>\r\n              </Link>\r\n            </div>\r\n            : ''}\r\n\r\n        </Link>\r\n      </div>\r\n    );\r\n\r\n  }\r\n\r\n}\r\n","import Component from 'flarum/common/Component';\r\nimport avatar from 'flarum/common/helpers/avatar';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport Link from 'flarum/common/components/Link';\r\n\r\n\r\nexport default class LastReplies extends Component {\r\n\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n    this.discussion = this.attrs.discussion;\r\n  }\r\n\r\n  view() {\r\n    const discussion = this.discussion;\r\n\r\n    // let's assume that the last 10 posts will be enough for us to identify 3 unique users\r\n    const posts = discussion.posts().splice(-10);\r\n\r\n    const filteredPosts = posts\r\n      .filter((post) => {\r\n        return !post.isHidden() && post.number() !== 1 && post.contentType() === \"comment\";\r\n      })\r\n      .sort((a, b) => b.createdAt() - a.createdAt());\r\n\r\n    const groupedUsers = filteredPosts\r\n      .map(post => post.user())\r\n      .filter((user, i, self) => {\r\n        return self.indexOf(user) === i\r\n      })\r\n      .reverse()\r\n      // last 3 users\r\n      .splice(-3);\r\n\r\n\r\n    return groupedUsers.map(user => {\r\n      return avatar(user, {className: 'Avatar--mini'})\r\n    })\r\n\r\n  }\r\n\r\n}\r\n","import Component from \"flarum/common/Component\";\r\nimport craftBadges from \"../utils/craftBadges\";\r\nimport getPostImage from \"../helpers/getPostImage\";\r\nimport craftTags from \"../utils/craftTags\";\r\nimport humanTime from 'flarum/common/utils/humanTime';\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport username from 'flarum/common/helpers/username';\r\nimport Dropdown from 'flarum/common/components/Dropdown';\r\nimport DiscussionControls from 'flarum/forum/utils/DiscussionControls';\r\nimport Link from 'flarum/common/components/Link';\r\nimport {truncate} from 'flarum/common/utils/string';\r\nimport LastReplies from './LastReplies';\r\n\r\n\r\nexport default class listItem extends Component {\r\n\r\n  oninit(vnode) {\r\n    super.oninit(vnode);\r\n  }\r\n\r\n  view() {\r\n    const discussion = this.attrs.discussion;\r\n    const settings = JSON.parse(app.forum.attribute('walsgitDiscussionCards'));\r\n    const isRead = settings.markCards === 1 && (!discussion.isRead() && app.session.user) ? 'Unread' : '';\r\n    const attrs = {};\r\n    attrs.className = \"wrapImg\" + (settings.cardFooter === 1 ? \" After\" : '');\r\n    const image = getPostImage(discussion.firstPost());\r\n    const media = image\r\n      ? <img src={image}\r\n             className=\"previewCardImg\"\r\n             alt={discussion.title()}\r\n             loading=\"lazy\"/>\r\n      : <div className=\"imgStub\"/>\r\n\r\n    return (\r\n      <div key={discussion.id()}\r\n           data-id={discussion.id()}\r\n           className={\"CardsListItem List \" + isRead + (discussion.isHidden() ? \" Hidden\" : \"\")}>\r\n        {DiscussionControls.controls(discussion, this).toArray().length\r\n          ? m(Dropdown, {\r\n            icon: 'fas fa-ellipsis-v',\r\n            className: 'DiscussionListItem-controls',\r\n            buttonClassName: 'Button Button--icon Button--flat Slidable-underneath Slidable-underneath--right',\r\n          }, DiscussionControls.controls(discussion, this).toArray())\r\n          : ''}\r\n        <Link href={app.route.discussion(discussion, 0)}\r\n              className=\"cardLink\">\r\n\r\n          {settings.cardBadges === 1\r\n            ? craftBadges(discussion.badges().toArray())\r\n            : ''}\r\n\r\n          <div className=\"cardGrid\">\r\n\r\n            <div className=\"rowSpan-3 colSpan\">\r\n              <div {...attrs}>\r\n                {settings.Views === 1 && !isNaN(discussion.views())\r\n                  ? <div className=\"imageLabel discussionViews\">\r\n                    {icon('fas fa-eye', {className: 'labelIcon'})}\r\n                    {discussion.views()}\r\n                  </div>\r\n                  : ''}\r\n                {media}\r\n\r\n                {settings.cardFooter === 1\r\n                  ? <div className=\"cardFoot\">\r\n                    <div className=\"Author\">\r\n                      {username(discussion.user())}\r\n                    </div>\r\n                    <div className=\"Date\">\r\n                      {humanTime(discussion.createdAt())}\r\n                    </div>\r\n                  </div>\r\n                  : ''}\r\n\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"rowSpan-3 colSpan-2\">\r\n\r\n              <div className=\"flexBox\">\r\n                <div className=\"cardTitle\">\r\n                  <h2 title={discussion.title()} className=\"title\">{truncate(discussion.title(), 80)}</h2>\r\n                </div>\r\n                <div className=\"cardTags\">{craftTags(discussion.tags())}</div>\r\n              </div>\r\n\r\n              {settings.previewText === 1 && discussion.firstPost()\r\n                ? <div className=\"previewPost\">{truncate(discussion.firstPost().contentPlain(), 150)}</div>\r\n                : ''}\r\n\r\n              {app.screen() === 'phone' && settings.Replies === 1\r\n                ? <div className=\"cardSpacer\">\r\n                  <Link\r\n                    className=\"Replies\"\r\n                    href={app.route.discussion(discussion, discussion.lastPostNumber())}>\r\n                    <div className=\"Left\">\r\n                      <div className=\"Avatars\">\r\n                        {m(LastReplies, {discussion: discussion})}\r\n                      </div>\r\n                      <div className=\"Repcount\">\r\n                        {app.translator.trans('walsgit.forum.replies', {count: discussion.replyCount() || '0'})}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"Arrow\">\r\n                      {icon('fas fa-angle-right')}\r\n                    </div>\r\n                  </Link>\r\n                </div>\r\n                : settings.Replies === 1 ?\r\n                  <div className=\"imageLabel discussionReplyCount\">\r\n                    {icon('fas fa-comment', {className: 'labelIcon'})}\r\n                    {discussion.replyCount()}\r\n                  </div> : ''\r\n              }\r\n            </div>\r\n          </div>\r\n        </Link>\r\n      </div>\r\n    );\r\n\r\n  }\r\n\r\n}\r\n","export default function getPostImage(post, key = 1) {\r\n\r\n  const regex = /<img(?!.*?class=\"emoji\").*?src=[\\'\"](.*?)[\\'\"].*?>/;\r\n  const image = app.forum.attribute('walsgitDiscussionCardsDefaultImage');\r\n  const defaultImg = app.forum.attribute(\"baseUrl\") + \"/assets/\" + image;\r\n\r\n  if (post) {\r\n    const src = regex.exec(post.contentHtml());\r\n    if (typeof key === \"number\" && key > 0) {\r\n      return (src) ? src[key] : (image ? defaultImg : null);\r\n    } else if (key === '~') {\r\n      return src;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n}\r\n","import app from 'flarum/app';\r\nimport {extend, override} from 'flarum/extend';\r\nimport DiscussionList from 'flarum/forum/components/DiscussionList';\r\nimport DiscussionListState from 'flarum/forum/states/DiscussionListState';\r\nimport IndexPage from 'flarum/forum/components/IndexPage';\r\nimport LoadingIndicator from 'flarum/common/components/LoadingIndicator';\r\nimport Placeholder from 'flarum/common/components/Placeholder';\r\nimport Button from 'flarum/common/components/Button';\r\nimport CardItem from './components/CardItem';\r\nimport ListItem from './components/ListItem';\r\n\r\napp.initializers.add('walsgit/discussion/cards', () => {\r\n\r\n  extend(DiscussionListState.prototype, 'requestParams', function (params) {\r\n    if (app.current.matches(IndexPage)) {\r\n      params.include.push(['firstPost', 'posts', 'posts.user']);\r\n    }\r\n  });\r\n\r\n  override(DiscussionList.prototype, 'view', function (original) {\r\n    const settings = JSON.parse(app.forum.attribute('walsgitDiscussionCards'));\r\n    const state = this.attrs.state;\r\n    const params = state.getParams();\r\n    let loading;\r\n    if (state.isInitialLoading() || state.isLoadingNext()) {\r\n      loading = <LoadingIndicator/>;\r\n    } else if (state.hasNext()) {\r\n      loading = Button.component(\r\n        {\r\n          className: 'Button',\r\n          onclick: state.loadNext.bind(state),\r\n        },\r\n        app.translator.trans('core.forum.discussion_list.load_more_button')\r\n      );\r\n    }\r\n    if (state.isEmpty()) {\r\n      const text = app.translator.trans('core.forum.discussion_list.empty_text');\r\n      return <div className=\"DiscussionList\">{m(Placeholder, {text})}</div>;\r\n    }\r\n    if (app.current.matches(IndexPage) && ((settings.allowedTags.length && settings.allowedTags.includes(params.tags)) || (!params.tags && settings.onIndexPage === 1))) {\r\n      return (\r\n        <div className={'DiscussionList' + (state.isSearchResults() ? ' DiscussionList--searchResults' : '')}>\r\n          <div class=\"DiscussionList-discussions flexCard\">\r\n            {state.getPages().map((pg, o) => {\r\n              return pg.items.map((discussion, i) => {\r\n                return (i < settings.smallCards && o === 0)\r\n                  ? m(CardItem, {discussion: discussion})\r\n                  : m(ListItem, {discussion: discussion})\r\n              });\r\n            })}\r\n          </div>\r\n          <div className=\"DiscussionList-loadMore\">{loading}</div>\r\n        </div>\r\n      );\r\n\r\n    } else {\r\n      return original();\r\n    }\r\n  })\r\n}, -1);\r\n\r\n\r\n// Expose compat API\r\nimport extCompat from './compat';\r\nimport {compat} from '@flarum/core/forum';\r\n\r\nObject.assign(compat, extCompat);\r\n","import icon from 'flarum/common/helpers/icon';\r\n\r\nexport default function craftBadges(badges) {\r\n  if (badges.length) {\r\n    return [m('.cardBadges', [badges.map((badge) => {\r\n      return [m('span.cardBadge.Badge.Badge--' + badge.attrs.type, {\r\n        'data-original-title': badge.attrs.label[0],\r\n        oncreate: (vnode) => $(vnode.dom).tooltip({placement: 'right'})\r\n      }, [icon(badge.attrs.icon)])]\r\n    })])];\r\n  }\r\n};\r\n","import Link from 'flarum/common/components/Link';\r\nimport sortTags from 'flarum/tags/utils/sortTags';\r\n\r\nexport default function craftTags(tags) {\r\n  if (tags) {\r\n    return [sortTags(tags).map(function (tag) {\r\n      return [\r\n        <Link className=\"cardTag\"\r\n              style={{backgroundColor: tag.color()}}\r\n              href={app.route('tag', {tags: tag.slug()})}>\r\n          {tag.name()}\r\n        </Link>\r\n      ]\r\n    })];\r\n  }\r\n};\r\n","module.exports = flarum.core;","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['common/Component'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Dropdown'];","module.exports = flarum.core.compat['common/components/Link'];","module.exports = flarum.core.compat['common/components/LoadingIndicator'];","module.exports = flarum.core.compat['common/components/Placeholder'];","module.exports = flarum.core.compat['common/helpers/avatar'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/helpers/username'];","module.exports = flarum.core.compat['common/utils/humanTime'];","module.exports = flarum.core.compat['common/utils/string'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['forum/components/DiscussionList'];","module.exports = flarum.core.compat['forum/components/IndexPage'];","module.exports = flarum.core.compat['forum/states/DiscussionListState'];","module.exports = flarum.core.compat['forum/utils/DiscussionControls'];","module.exports = flarum.core.compat['tags/utils/sortTags'];","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\r\n * This file is part of Flarum.\r\n *\r\n * (c) Toby Zerner <toby.zerner@gmail.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nexport * from './src/forum';\r\n"],"names":["CardItem","ListItem","LastReplies","craftTags","craftBadges","Component","getPostImage","humanTime","icon","username","Dropdown","DiscussionControls","Link","truncate","cardItem","_Component","apply","arguments","_inheritsLoose","_proto","prototype","oninit","vnode","call","discussion","attrs","view","settings","JSON","parse","app","forum","attribute","isRead","markCards","session","user","className","cardFooter","image","firstPost","media","m","src","alt","title","loading","key","id","isHidden","controls","toArray","length","buttonClassName","href","route","cardBadges","badges","Views","isNaN","views","createdAt","tags","previewText","contentPlain","Replies","lastPostNumber","translator","trans","count","replyCount","default","avatar","posts","splice","filteredPosts","filter","post","number","contentType","sort","a","b","groupedUsers","map","i","self","indexOf","reverse","listItem","screen","regex","defaultImg","exec","contentHtml","extend","override","DiscussionList","DiscussionListState","IndexPage","LoadingIndicator","Placeholder","Button","initializers","add","params","current","matches","include","push","original","state","getParams","isInitialLoading","isLoadingNext","hasNext","component","onclick","loadNext","bind","isEmpty","text","allowedTags","includes","onIndexPage","isSearchResults","getPages","pg","o","items","smallCards","extCompat","compat","Object","assign","badge","type","label","oncreate","$","dom","tooltip","placement","sortTags","tag","style","backgroundColor","color","slug","name","setPrototypeOf","t","create","constructor","_setPrototypeOf","e","__proto__"],"sourceRoot":""}