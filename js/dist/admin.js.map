{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@walsgit/flarum-discussion-cards/./src/admin/components/Settings.js","webpack://@walsgit/flarum-discussion-cards/./src/admin/components/UploadTagImageButton.js","webpack://@walsgit/flarum-discussion-cards/./src/admin/components/WdcTagSettingsModal.js","webpack://@walsgit/flarum-discussion-cards/./src/admin/helpers/isExtensionActive.js","webpack://@walsgit/flarum-discussion-cards/./src/admin/helpers/isExtensionInstalled.js","webpack://@walsgit/flarum-discussion-cards/./src/admin/index.js","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['admin/app']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['admin/components/UploadImageButton']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['app']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/Model']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/components/Button']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['extend']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['tags/components/EditTagModal']\"","webpack://@walsgit/flarum-discussion-cards/external root \"flarum.core.compat['tags/models/Tag']\"","webpack://@walsgit/flarum-discussion-cards/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@walsgit/flarum-discussion-cards/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@walsgit/flarum-discussion-cards/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@walsgit/flarum-discussion-cards/webpack/bootstrap","webpack://@walsgit/flarum-discussion-cards/webpack/runtime/compat get default export","webpack://@walsgit/flarum-discussion-cards/webpack/runtime/define property getters","webpack://@walsgit/flarum-discussion-cards/webpack/runtime/hasOwnProperty shorthand","webpack://@walsgit/flarum-discussion-cards/webpack/runtime/make namespace object","webpack://@walsgit/flarum-discussion-cards/./admin.js"],"sourcesContent":["import app from \"flarum/admin/app\";\r\nimport ExtensionPage from \"flarum/admin/components/ExtensionPage\";\r\nimport UploadImageButton from 'flarum/admin/components/UploadImageButton';\r\nimport isExtensionInstalled from \"../helpers/isExtensionInstalled\";\r\nimport isExtensionActive from \"../helpers/isExtensionActive\";\r\nimport icon from \"flarum/common/helpers/icon\";\r\n\r\nexport default class Settings extends ExtensionPage {\r\n\tcontent() {\r\n\t\t/* Supported third party extensions' info */\r\n\t\tconst viewsExtension = {\r\n\t\t\tid: 'flarumite-simple-discussion-views',\r\n\t\t\tname: 'Flarumite Simple Discussion Views',\r\n\t\t\turl: 'https://flarum.org/extension/flarumite/simple-discussion-views',\r\n\t\t};\r\n\t\tconst blogExtension = {\r\n\t\t\tid: 'v17development-blog',\r\n\t\t\tname: 'Flarum Blog',\r\n\t\t\turl: 'https://flarum.org/extension/v17development/flarum-blog',\r\n\t\t};\r\n\t\tconst repostExtension = {\r\n\t\t\tid: 'shebaoting-repost',\r\n\t\t\tname: 'Repost',\r\n\t\t\turl: 'https://flarum.org/extension/shebaoting/repost',\r\n\t\t}\r\n\t\tconsole.log(isExtensionInstalled(repostExtension.id));\r\n\r\n\t\tconst warningIcon = icon(\"fas fa-exclamation-triangle\");\r\n\r\n\t\treturn (\r\n\t\t\t<div className=\"DiscussionCardsSettings\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"DiscussionCardsSettings--content\">\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.where_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.where_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"flarum-tags.select-tags\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_allowedTags\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowedTags_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowedTags_help\"),\r\n\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\trequireParentTag: false,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_onIndexPage\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.onIndexPage_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.onIndexPage_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCardOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCardOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tclassName: 'DC-Number',\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_primaryCards\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCards_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCards_help\"),\r\n\t\t\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 4,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tclassName: 'DC-Number',\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_desktopCardWidth\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.desktopCardWidth_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.desktopCardWidth_help\"),\r\n\t\t\t\t\t\t\t\tmin: 10,\r\n\t\t\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 49,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tclassName: 'DC-Number',\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_tabletCardWidth\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.tabletCardWidth_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.tabletCardWidth_help\"),\r\n\t\t\t\t\t\t\t\tmin: 10,\r\n\t\t\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 49,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.cardOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.cardOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t<div className=\"DC-DefaultImageSettings\">\r\n\t\t\t\t\t\t\t\t<h4>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.defaultImage_title\")}</h4>\r\n\t\t\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.defaultImage_info\")}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{app.forum.attribute(\"walsgitDiscussionCardsDefaultImage\") === null \r\n\t\t\t\t\t\t\t\t\t? <div className=\"imgStub\"></div> \r\n\t\t\t\t\t\t\t\t\t: <img className=\"DC-UserUploadedImage\" src={app.forum.attribute(\"baseUrl\") + \"/assets/\" + app.forum.attribute(\"walsgitDiscussionCardsDefaultImage\")}/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{m(UploadImageButton, {name: \"walsgit_discussion_cards_default_image\", class: \"DC-UploadImageBtn\"})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_previewText\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.previewText_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.previewText_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showAuthor\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showAuthor_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showAuthor_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showReplies\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showReplies_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showReplies_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showRepliesOnRight\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showRepliesOnRight_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showRepliesOnRight_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showLastPostInfo\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showLastPostInfo_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showLastPostInfo_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showBadges\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showBadges_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showBadges_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_markReadCards\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.markReadCards_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.markReadCards_help\"),\r\n\t\t\t\t\t\t\t})}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{/* 3rd party extensions options */}\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.otherOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.otherOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t{/* flarumite/simple-discussion-views */}\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_title_start\")}\r\n\t\t\t\t\t\t\t\t<a href={viewsExtension.url} target=\"_blank\" rel=\"noopener noreferrer\">{viewsExtension.name}</a>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_title_end\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<div className=\"helpText\">\r\n\t\t\t\t\t\t\t\t<em>\r\n\t\t\t\t\t\t\t\t\t{!isExtensionInstalled(viewsExtension.id) \r\n\t\t\t\t\t\t\t\t\t? + app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.viewsExtension_notInstalled\", {icon: warningIcon}) : \r\n\t\t\t\t\t\t\t\t\t!isExtensionActive(viewsExtension.id) \r\n\t\t\t\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.viewsExtension_notActivated\", {icon: warningIcon}) :\r\n\t\t\t\t\t\t\t\t\t''}\r\n\t\t\t\t\t\t\t\t</em>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showViews\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_help\"),\r\n\t\t\t\t\t\t\t\tdisabled: isExtensionActive(viewsExtension.id) ? false : true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t\t\t{/* v17development/flarum-blog */}\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.blogExtension_title_start\")}\r\n\t\t\t\t\t\t\t\t<a href={blogExtension.url} target=\"_blank\" rel=\"noopener noreferrer\">{blogExtension.name}</a>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.blogExtension_title_end\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<div className=\"helpText\">\r\n\t\t\t\t\t\t\t\t<em>\r\n\t\t\t\t\t\t\t\t\t{!isExtensionInstalled(blogExtension.id) \r\n\t\t\t\t\t\t\t\t\t? + app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.blogExtension_notInstalled\", {icon: warningIcon}) : \r\n\t\t\t\t\t\t\t\t\t!isExtensionActive(blogExtension.id) \r\n\t\t\t\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.blogExtension_notActivated\", {icon: warningIcon}) :\r\n\t\t\t\t\t\t\t\t\t''}\r\n\t\t\t\t\t\t\t\t</em>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_useBlogImages\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.useBlogImages_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.useBlogImages_help\"),\r\n\t\t\t\t\t\t\t\tdisabled: isExtensionActive(blogExtension.id) ? false : true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_useBlogSummary\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.useBlogSummary_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.useBlogSummary_help\"),\r\n\t\t\t\t\t\t\t\tdisabled: isExtensionActive(blogExtension.id) ? false : true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t<hr></hr>\r\n\t\t\t\t\t\t\t{/* shebaoting/repost */}\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.repostExtension_title_start\")}\r\n\t\t\t\t\t\t\t\t<a href={repostExtension.url} target=\"_blank\" rel=\"noopener noreferrer\">{repostExtension.name}</a>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.repostExtension_title_end\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<div className=\"helpText\">\r\n\t\t\t\t\t\t\t\t<em>\r\n\t\t\t\t\t\t\t\t\t{!isExtensionInstalled(repostExtension.id) \r\n\t\t\t\t\t\t\t\t\t? + app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.repostExtension_notInstalled\", {icon: warningIcon}) : \r\n\t\t\t\t\t\t\t\t\t!isExtensionActive(repostExtension.id) \r\n\t\t\t\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.repostExtension_notActivated\", {icon: warningIcon}) :\r\n\t\t\t\t\t\t\t\t\t''}\r\n\t\t\t\t\t\t\t\t</em>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_allowRepostLinks\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowRepostLinks_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowRepostLinks_help\"),\r\n\t\t\t\t\t\t\t\tdisabled: isExtensionActive(repostExtension.id) ? false : true,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.submitButton()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tonsubmit() {\r\n\t\tconst primaryCards = Number(this.setting('walsgit_discussion_cards_primaryCards')());\r\n\t\tconst desktopCardWidth = Number(this.setting('walsgit_discussion_cards_desktopCardWidth')());\r\n\t\tconst tabletCardWidth = Number(this.setting('walsgit_discussion_cards_tabletCardWidth')());\r\n\r\n        if (primaryCards < 0 || isNaN(primaryCards)) {\r\n            app.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.primaryCards'));\r\n            return false;\r\n        }\r\n        if (desktopCardWidth < 10 || desktopCardWidth > 100 || isNaN(desktopCardWidth)) {\r\n            app.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.desktopCardWidth'));\r\n            return false;\r\n        }\r\n        if (tabletCardWidth < 10 || tabletCardWidth > 100 || isNaN(tabletCardWidth)) {\r\n            app.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.tabletCardWidth'));\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\tsaveSettings(e) {\r\n        if (!this.onsubmit()) {\r\n            return;\r\n        }\r\n\t\tconst settings = this.dirty();\r\n\r\n        super.saveSettings(e)\r\n\t\t.then(() => {\r\n\t\t\tconst newSettings = {};\r\n\t\t\tfor (const key in settings) {\r\n\t\t\t\tlet endOfKey = key.replace('walsgit_discussion_cards_', '');\r\n\t\t\t\tendOfKey = endOfKey.replace(/^./, endOfKey.charAt(0).toUpperCase());\r\n\t\t\t\tconst newKey = 'walsgitDiscussionCards' + endOfKey;\r\n\t\t\t\tnewSettings[newKey] = settings[key];\r\n\t\t\t}\r\n\t\t\tapp.forum.pushAttributes(newSettings);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n    }\r\n}\r\n","import app from \"flarum/admin/app\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport classList from \"flarum/common/utils/classList\";\r\nimport EditTagModal from \"flarum/tags/components/EditTagModal\";\r\n\r\n\r\nexport default class UploadTagImageButton extends Button {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.tagId = props.attrs.tagId;\r\n\t}\r\n\t\r\n\tloading = false;\r\n\r\n\tview(vnode) {\r\n\t\tthis.attrs.loading = this.loading;\r\n\t\tthis.attrs.className = classList(this.attrs.className, \"Button\");\r\n\r\n\t\tif (app.store.data.tags[this.tagId].data.attributes.walsgitDiscussionCardsTagDefaultImage) {\r\n\t\t\tthis.attrs.onclick = this.remove.bind(this);\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"DC-TagDefaultImage\"\r\n\t\t\t\t\t\t\tsrc={\"assets/\" + app.store.data.tags[this.tagId].data.attributes.walsgitDiscussionCardsTagDefaultImage}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\twidth=\"200px\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{super.view({\r\n\t\t\t\t\t\t\t...vnode,\r\n\t\t\t\t\t\t\tchildren: app.translator.trans(\r\n\t\t\t\t\t\t\t\t\"core.admin.upload_image.remove_button\"\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.attrs.onclick = this.upload.bind(this);\r\n\t\t}\r\n\r\n\t\treturn super.view({\r\n\t\t\t...vnode,\r\n\t\t\tchildren: app.translator.trans(\r\n\t\t\t\t\"core.admin.upload_image.upload_button\"\r\n\t\t\t),\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Prompt the user to upload an image.\r\n\t */\r\n\tupload() {\r\n\t\tif (this.loading) return;\r\n\r\n\t\tconst $input = $('<input type=\"file\">');\r\n\r\n\t\t$input\r\n\t\t\t.appendTo(\"body\")\r\n\t\t\t.hide()\r\n\t\t\t.trigger(\"click\")\r\n\t\t\t.on(\"change\", (e) => {\r\n\t\t\t\tconst body = new FormData();\r\n\t\t\t\tbody.append(this.attrs.name, $(e.target)[0].files[0]);\r\n\t\t\t\tbody.append('tagId', this.tagId);\r\n\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tm.redraw();\r\n\r\n\t\t\t\tapp.request({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: this.resourceUrl(),\r\n\t\t\t\t\tserialize: (raw) => raw,\r\n\t\t\t\t\tbody,\r\n\t\t\t\t}).then(this.success.bind(this), this.failure.bind(this));\r\n\t\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Remove the image.\r\n\t */\r\n\tremove() {\r\n\t\tthis.loading = true;\r\n\t\tm.redraw();\r\n\t\t\r\n\t\tconst body = new FormData();\r\n\t\tbody.append('tagId', this.tagId);\r\n\r\n\t\tapp.request({\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\turl: this.resourceUrl(),\r\n\t\t\tbody,\r\n\t\t}).then(this.success.bind(this), this.failure.bind(this));\r\n\t}\r\n\r\n\tresourceUrl() {\r\n\t\treturn app.forum.attribute(\"apiUrl\") + \"/\" + this.attrs.name;\r\n\t}\r\n\r\n\t/**\r\n\t * After a successful upload/removal, reload the page.\r\n\t *\r\n\t * @param {object} response\r\n\t * @protected\r\n\t */\r\n\tsuccess(response) {\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\t/**\r\n\t * If upload/removal fails, stop loading.\r\n\t *\r\n\t * @param {object} response\r\n\t * @protected\r\n\t */\r\n\tfailure(response) {\r\n\t\tthis.loading = false;\r\n\t\tm.redraw();\r\n\t}\r\n}\r\n","import Button from \"flarum/common/components/Button\";\r\nimport Modal from \"flarum/common/components/Modal\";\r\nimport Stream from \"flarum/common/utils/Stream\";\r\n\r\nlet defaultSettings = {};\r\n\r\nexport default class WdcTagSettingsModal extends Modal {\r\n\toninit(vnode) {\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tthis.tagSettings = JSON.parse(this.attrs.model.data.attributes.walsgitDiscussionCardsTagSettings || null) || {};\r\n\r\n\t\tdefaultSettings = {\r\n\t\t\tprimaryCards: app.forum.data.attributes.walsgitDiscussionCardsPrimaryCards,\r\n\t\t\tdesktopCardWidth: app.forum.data.attributes.walsgitDiscussionCardsDesktopCardWidth,\r\n\t\t\ttabletCardWidth: app.forum.data.attributes.walsgitDiscussionCardsTabletCardWidth,\r\n\t\t}\r\n\t\t\r\n\t\tif (!this.tagSettings.hasOwnProperty('primaryCards') || this.tagSettings.primaryCards === null) {\r\n\t\t\tthis.tagSettings.primaryCards = defaultSettings.primaryCards;\r\n\t\t}\r\n\t\tif (!this.tagSettings.hasOwnProperty('desktopCardWidth') || this.tagSettings.desktopCardWidth === null) {\r\n\t\t\tthis.tagSettings.desktopCardWidth = defaultSettings.desktopCardWidth;\r\n\t\t}\r\n\t\tif (!this.tagSettings.hasOwnProperty('tabletCardWidth') || this.tagSettings.tabletCardWidth === null) {\r\n\t\t\tthis.tagSettings.tabletCardWidth = defaultSettings.tabletCardWidth;\r\n\t\t}\r\n\r\n\t\tthis.tagSettings.primaryCards = Stream(this.tagSettings.primaryCards);\r\n\t\tthis.tagSettings.desktopCardWidth = Stream(this.tagSettings.desktopCardWidth);\r\n\t\tthis.tagSettings.tabletCardWidth = Stream(this.tagSettings.tabletCardWidth);\r\n\t\t\r\n\t}\r\n\tclassName() {\r\n\t\treturn \"WdcTagSettingsModal Modal--large\";\r\n\t}\r\n\r\n\ttitle() {\r\n\t\treturn [\r\n\t\t\tapp.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.title\"),\r\n\t\t\t<span \r\n\t\t\t\tclassName=\"TagLabel colored\"\r\n\t\t\t\tstyle={\"--tag-bg: \" + this.attrs.model.data.attributes.color + \";\"}\r\n\t\t\t>\r\n\t\t\t\t<span className=\"TagLabel-text\">\r\n\t\t\t\t\t<span className=\"TagLabel-name\">{this.attrs.model.data.attributes.name}</span>\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t]\r\n\t}\r\n\r\n\tcontent() {\r\n\t\treturn [\r\n\t\t\t<div className=\"Modal-body\">\r\n\t\t\t\t<div className=\"Form\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.intro_text\")}\r\n\t\t\t\t\t</p>\r\n                        \r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"primaryCards\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.primaryCards_label\")}</label>\r\n\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.primaryCards_help\", {default: defaultSettings.primaryCards})}</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"primaryCards\"\r\n\t\t\t\t\t\t\tclassName=\"FormControl DC-Number\"\r\n\t\t\t\t\t\t\tbidi={this.tagSettings.primaryCards}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"desktopCardWidth\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.desktopCardWidth_label\")}</label>\r\n\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.desktopCardWidth_help\", {default: defaultSettings.desktopCardWidth})}</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"desktopCardWidth\"\r\n\t\t\t\t\t\t\tclassName=\"FormControl DC-Number\"\r\n\t\t\t\t\t\t\tbidi={this.tagSettings.desktopCardWidth}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"tabletCardWidth\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.tabletCardWidth_label\")}</label>\r\n\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.tabletCardWidth_help\", {default: defaultSettings.tabletCardWidth})}</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"tabletCardWidth\"\r\n\t\t\t\t\t\t\tclassName=\"FormControl DC-Number\"\r\n\t\t\t\t\t\t\tbidi={this.tagSettings.tabletCardWidth}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"Button Button--primary\"\r\n\t\t\t\t\t\tloading={this.loading}\r\n\t\t\t\t\t\tdisabled={this.changed()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.submit_button\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>,\r\n\t\t];\r\n\t}\r\n\tchanged() {\r\n\t\tlet savedSettings = JSON.parse(this.attrs.model.data.attributes.walsgitDiscussionCardsTagSettings || 'null') || {};\r\n\r\n\t\tfunction isSameSettings(obj1, obj2) {\r\n\t\t\tif(typeof obj1 !== 'object' ||typeof obj2 !== 'object') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (Object.keys(obj1).length !== Object.keys(obj2).length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfor (const key in obj1) {\r\n\t\t\t\tif (obj1.hasOwnProperty(key)) {\r\n\t\t\t\t\tif (typeof obj1[key] === 'object' && typeof obj2[key] === 'object') {\r\n\t\t\t\t\t\tif (!compareObjects(obj1[key], obj2[key])) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (obj1[key] !== obj2[key]) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn isSameSettings(JSON.parse(JSON.stringify(this.tagSettings)), savedSettings);\r\n\t}\r\n\r\n\tonsubmit(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst primaryCards = parseInt(this.tagSettings.primaryCards());\r\n\t\tif (isNaN(primaryCards) || primaryCards < 0) {\r\n\t\t\tapp.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.primaryCards'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tconst desktopWidth = parseInt(this.tagSettings.desktopCardWidth());\r\n\t\tif (isNaN(desktopWidth) || desktopWidth < 10 || desktopWidth > 100) {\r\n\t\t\tapp.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.desktopCardWidth'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\tconst tabletWidth = parseInt(this.tagSettings.tabletCardWidth());\r\n\t\tif (isNaN(tabletWidth) || tabletWidth < 10 || tabletWidth > 100) {\r\n\t\t\tapp.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.errors.tabletCardWidth'));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst tag = this.attrs.model;\r\n\r\n\t\tthis.tagSettings.primaryCards(primaryCards);\r\n\t\tthis.tagSettings.desktopCardWidth(desktopWidth);\r\n\t\tthis.tagSettings.tabletCardWidth(tabletWidth);\r\n\r\n\t\tconst tagSettings = JSON.stringify(this.tagSettings);\r\n\r\n\t\tthis.loading = true;\r\n\r\n\t\tapp.request({\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\turl:\r\n\t\t\t\tapp.forum.attribute(\"apiUrl\") +\r\n\t\t\t\t\"/tags/\" +\r\n\t\t\t\ttag.id() +\r\n\t\t\t\t\"/tagSettings\",\r\n\t\t\tbody: { data: { tagSettings } },\r\n\t\t}).then(function () {\r\n\t\t\ttag.data.attributes.walsgitDiscussionCardsTagSettings = tagSettings;\r\n\t\t\tapp.modal.close();\r\n\t\t});\r\n\t}\r\n}\r\n","export default function isExtensionActive(extensionName) {\r\n    if (app.data.settings.extensions_enabled.includes(extensionName)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}","export default function isExtensionInstalled(extensionName) {\r\n    if (app.data.extensions.hasOwnProperty(extensionName)) {\r\n        return true;\r\n    }\r\n    return false;\r\n}","import app from \"flarum/app\";\r\nimport Settings from \"./components/Settings\";\r\nimport { extend } from \"flarum/extend\";\r\nimport Model from \"flarum/common/Model\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport Tag from \"flarum/tags/models/Tag\";\r\nimport EditTagModal from \"flarum/tags/components/EditTagModal\";\r\nimport WdcTagSettingsModal from \"./components/WdcTagSettingsModal\";\r\nimport UploadTagImageButton from \"./components/UploadTagImageButton\";\r\n\r\napp.initializers.add(\"walsgit/discussion-cards\", () => {\r\n\tTag.prototype.WdcDefaultImage = Model.attribute(\r\n\t\t\"walsgit_discussion_cards_tag_default_image\"\r\n\t);\r\n\r\n\textend(EditTagModal.prototype, \"fields\", function (items) {\r\n\t\tif (this.tag.id()) {\r\n\t\t\tlet allowedTags = JSON.parse(app.forum.attribute('walsgitDiscussionCardsAllowedTags'));\r\n\t\t\tlet isActivatedForTag = allowedTags.includes(this.tag.id());\r\n\t\t\t\r\n\t\t\tlet activationBtnClasses = isActivatedForTag\r\n\t\t\t\t? \"DC-ActivationBtn Button activated\"\r\n\t\t\t\t: \"DC-ActivationBtn Button Button--primary\";\r\n\t\t\tlet DcTagSettingsClasses = isActivatedForTag ? \"DC-TagSettings\" : \"DC-TagSettings DC-Hidden\";\r\n\t\t\tlet activationBtnText = isActivatedForTag\r\n\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.tags.deactivation_button\")\r\n\t\t\t\t: app.translator.trans(\"walsgit_discussion_cards.admin.tags.activation_button\");\r\n\t\t\t\r\n\t\t\tconst toggleActivation = () => {\r\n\t\t\t\tisActivatedForTag = !isActivatedForTag;\r\n\t\t\t\tif (isActivatedForTag) {\r\n\t\t\t\t\tallowedTags.push(this.tag.id());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tallowedTags = allowedTags.filter(id => id !== this.tag.id());\r\n\t\t\t\t}\r\n\r\n\t\t\t\tapp.request({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: app.forum.attribute(\"apiUrl\") + \"/walsgit_discussion_cards_tag_update_allowedTags\",\r\n\t\t\t\t\tbody: { allowedTags },\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\tapp.forum.data.attributes.walsgitDiscussionCardsAllowedTags = JSON.stringify(allowedTags);\r\n\t\t\t\t\tapp.data.settings.walsgit_discussion_cards_allowedTags = JSON.stringify(allowedTags);\r\n\r\n\t\t\t\t\tisActivatedForTag = !isActivatedForTag;\r\n\t\t\t\t\tactivationBtnClasses = isActivatedForTag\r\n\t\t\t\t\t\t? \"DC-ActivationBtn Button activated\"\r\n\t\t\t\t\t\t: \"DC-ActivationBtn Button Button--primary\";\r\n\t\t\t\t\tDcTagSettingsClasses = isActivatedForTag ? \"DC-TagSettings\" : \"DC-TagSettings DC-Hidden\";\r\n\t\t\t\t\tactivationBtnText = isActivatedForTag\r\n\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.tags.deactivation_button\")\r\n\t\t\t\t\t\t: app.translator.trans(\"walsgit_discussion_cards.admin.tags.activation_button\");\r\n\t\t\t\t\tm.redraw();\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\titems.add(\r\n\t\t\t\t\"tag-discussion-cards-options\",\r\n\t\t\t\t<fieldset className=\"DC-Fieldset\">\r\n\t\t\t\t\t<legend>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.options_heading\")}\r\n\t\t\t\t\t</legend>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={activationBtnClasses}\r\n\t\t\t\t\t\ticon=\"fas fa-border-all\"\r\n\t\t\t\t\t\tonclick={toggleActivation}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{activationBtnText}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className={DcTagSettingsClasses}>\r\n\t\t\t\t\t\t<div className=\"DC-TagDefaultImageSettings\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.defaultImage_title\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.defaultImage_info\")}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{m(UploadTagImageButton, {\r\n\t\t\t\t\t\t\t\tname: \"walsgit_discussion_cards_tag_default_image\",\r\n\t\t\t\t\t\t\t\tclassName: \"DC-UploadTagImageBtn\",\r\n\t\t\t\t\t\t\t\tariaLabel: \"Upload a default image for this tag\",\r\n\t\t\t\t\t\t\t\ttagId: this.tag.id()\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"Button Button--primary\"\r\n\t\t\t\t\t\t\ticon=\"fas fa-border-all\"\r\n\t\t\t\t\t\t\tonclick={() => {\r\n\t\t\t\t\t\t\t\tapp.modal.show(WdcTagSettingsModal, { model: this.tag });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.options_button\")}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</fieldset>,\r\n\t\t\t\t-20\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\tapp.extensionData.for(\"walsgit-discussion-cards\").registerPage(Settings);\r\n});\r\n","module.exports = flarum.core.compat['admin/app'];","module.exports = flarum.core.compat['admin/components/ExtensionPage'];","module.exports = flarum.core.compat['admin/components/UploadImageButton'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/classList'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['tags/components/EditTagModal'];","module.exports = flarum.core.compat['tags/models/Tag'];","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\r\n * This file is part of Flarum.\r\n *\r\n * (c) Toby Zerner <toby.zerner@gmail.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nexport * from './src/admin';\r\n"],"names":["app","ExtensionPage","UploadImageButton","isExtensionInstalled","isExtensionActive","icon","Settings","_ExtensionPage","apply","arguments","_inheritsLoose","_proto","prototype","content","viewsExtension","id","name","url","blogExtension","repostExtension","console","log","warningIcon","m","className","translator","trans","buildSettingComponent","type","setting","label","help","options","requireParentTag","min","step","placeholder","max","forum","attribute","src","href","target","rel","disabled","submitButton","onsubmit","primaryCards","Number","desktopCardWidth","tabletCardWidth","isNaN","alerts","show","saveSettings","e","settings","dirty","call","then","newSettings","key","endOfKey","replace","charAt","toUpperCase","newKey","pushAttributes","error","default","Button","classList","EditTagModal","UploadTagImageButton","_Button","props","_this","loading","tagId","attrs","view","vnode","store","data","tags","attributes","walsgitDiscussionCardsTagDefaultImage","onclick","remove","bind","alt","width","_extends","children","upload","_this2","$input","$","appendTo","hide","trigger","on","body","FormData","append","files","redraw","request","method","resourceUrl","serialize","raw","success","failure","response","window","location","reload","Modal","Stream","defaultSettings","WdcTagSettingsModal","_Modal","oninit","tagSettings","JSON","parse","model","walsgitDiscussionCardsTagSettings","walsgitDiscussionCardsPrimaryCards","walsgitDiscussionCardsDesktopCardWidth","walsgitDiscussionCardsTabletCardWidth","hasOwnProperty","title","style","color","htmlFor","bidi","changed","savedSettings","isSameSettings","obj1","obj2","Object","keys","length","compareObjects","stringify","preventDefault","parseInt","desktopWidth","tabletWidth","tag","modal","close","extensionName","extensions_enabled","includes","extensions","extend","Model","Tag","initializers","add","WdcDefaultImage","items","allowedTags","isActivatedForTag","activationBtnClasses","DcTagSettingsClasses","activationBtnText","toggleActivation","push","filter","walsgitDiscussionCardsAllowedTags","walsgit_discussion_cards_allowedTags","ariaLabel","extensionData","registerPage","assign","n","t","r","setPrototypeOf","o","create","constructor","_setPrototypeOf","__proto__"],"sourceRoot":""}