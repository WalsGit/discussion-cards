{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@walsgit/discussion-cards/./src/admin/components/Settings.js","webpack://@walsgit/discussion-cards/./src/admin/components/UploadTagImageButton.js","webpack://@walsgit/discussion-cards/./src/admin/components/WdcTagSettingsModal.js","webpack://@walsgit/discussion-cards/./src/admin/index.js","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['admin/app']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['admin/components/UploadImageButton']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['app']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/Model']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/components/Button']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['extend']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['tags/components/EditTagModal']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['tags/models/Tag']\"","webpack://@walsgit/discussion-cards/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@walsgit/discussion-cards/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@walsgit/discussion-cards/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@walsgit/discussion-cards/webpack/bootstrap","webpack://@walsgit/discussion-cards/webpack/runtime/compat get default export","webpack://@walsgit/discussion-cards/webpack/runtime/define property getters","webpack://@walsgit/discussion-cards/webpack/runtime/hasOwnProperty shorthand","webpack://@walsgit/discussion-cards/webpack/runtime/make namespace object","webpack://@walsgit/discussion-cards/./admin.js"],"sourcesContent":["import app from \"flarum/admin/app\";\r\nimport ExtensionPage from \"flarum/admin/components/ExtensionPage\";\r\nimport UploadImageButton from 'flarum/admin/components/UploadImageButton';\r\n\r\nexport default class Settings extends ExtensionPage {\r\n\tcontent() {\r\n\t\treturn (\r\n\t\t\t<div className=\"DiscussionCardsSettings\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"DiscussionCardsSettings--content\">\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.where_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.where_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"flarum-tags.select-tags\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_allowedTags\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowedTags_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowedTags_help\"),\r\n\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\trequireParentTag: false,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_onIndexPage\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.onIndexPage_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.onIndexPage_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCardOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCardOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_primaryCards\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCards_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCards_help\"),\r\n\t\t\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 4,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_desktopCardWidth\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.desktopCardWidth_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.desktopCardWidth_help\"),\r\n\t\t\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 49,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_tabletCardWidth\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.tabletCardWidth_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.tabletCardWidth_help\"),\r\n\t\t\t\t\t\t\t\tmin: 1,\r\n\t\t\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 49,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.cardOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.cardOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t<div className=\"DC-DefaultImageSettings\">\r\n\t\t\t\t\t\t\t\t<h4>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.defaultImage_title\")}</h4>\r\n\t\t\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.defaultImage_info\")}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{app.forum.attribute(\"walsgitDiscussionCardsDefaultImage\") === null \r\n\t\t\t\t\t\t\t\t\t? <div className=\"imgStub\"></div> \r\n\t\t\t\t\t\t\t\t\t: <img className=\"DC-UserUploadedImage\" src={app.forum.attribute(\"baseUrl\") + \"/assets/\" + app.forum.attribute(\"walsgitDiscussionCardsDefaultImage\")}/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{m(UploadImageButton, {name: \"walsgit_discussion_cards_default_image\", class: \"DC-UploadImageBtn\"})}\r\n\t\t\t\t\t\t\t\t{/* TODO: fix the UploadImageButton adding an empty <img> tag & test different sized images (and file types) */}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_previewText\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.previewText_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.previewText_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showAuthor\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showAuthor_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showAuthor_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showReplies\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showReplies_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showReplies_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showBadges\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showBadges_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showBadges_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_markReadCards\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.markReadCards_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.markReadCards_help\"),\r\n\t\t\t\t\t\t\t})}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.otherOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.otherOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t<h4>If <a href=\"https://flarum.org/extension/flarumite/simple-discussion-views\" target=\"_blank\" rel=\"noopener noreferrer\">Flarumite Simple Discussion Views</a> is installed & activated</h4>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showViews\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.submitButton()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}","import app from \"flarum/admin/app\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport classList from \"flarum/common/utils/classList\";\r\nimport EditTagModal from \"flarum/tags/components/EditTagModal\";\r\n\r\n\r\nexport default class UploadTagImageButton extends Button {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.tagId = props.attrs.tagId;\r\n\t}\r\n\t\r\n\tloading = false;\r\n\r\n\tview(vnode) {\r\n\t\tthis.attrs.loading = this.loading;\r\n\t\tthis.attrs.className = classList(this.attrs.className, \"Button\");\r\n\r\n\t\tif (app.store.data.tags[this.tagId].data.attributes.walsgitDiscussionCardsTagDefaultImage) {\r\n\t\t\tthis.attrs.onclick = this.remove.bind(this);\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"DC-TagDefaultImage\"\r\n\t\t\t\t\t\t\tsrc={\"assets/\" + app.store.data.tags[this.tagId].data.attributes.walsgitDiscussionCardsTagDefaultImage}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\twidth=\"200px\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{super.view({\r\n\t\t\t\t\t\t\t...vnode,\r\n\t\t\t\t\t\t\tchildren: app.translator.trans(\r\n\t\t\t\t\t\t\t\t\"core.admin.upload_image.remove_button\"\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.attrs.onclick = this.upload.bind(this);\r\n\t\t}\r\n\r\n\t\treturn super.view({\r\n\t\t\t...vnode,\r\n\t\t\tchildren: app.translator.trans(\r\n\t\t\t\t\"core.admin.upload_image.upload_button\"\r\n\t\t\t),\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Prompt the user to upload an image.\r\n\t */\r\n\tupload() {\r\n\t\tif (this.loading) return;\r\n\r\n\t\tconst $input = $('<input type=\"file\">');\r\n\r\n\t\t$input\r\n\t\t\t.appendTo(\"body\")\r\n\t\t\t.hide()\r\n\t\t\t.trigger(\"click\")\r\n\t\t\t.on(\"change\", (e) => {\r\n\t\t\t\tconst body = new FormData();\r\n\t\t\t\tbody.append(this.attrs.name, $(e.target)[0].files[0]);\r\n\t\t\t\tbody.append('tagId', this.tagId);\r\n\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tm.redraw();\r\n\r\n\t\t\t\tapp.request({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: this.resourceUrl(),\r\n\t\t\t\t\tserialize: (raw) => raw,\r\n\t\t\t\t\tbody,\r\n\t\t\t\t}).then(this.success.bind(this), this.failure.bind(this));\r\n\t\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Remove the image.\r\n\t */\r\n\tremove() {\r\n\t\tthis.loading = true;\r\n\t\tm.redraw();\r\n\t\t\r\n\t\tconst body = new FormData();\r\n\t\tbody.append('tagId', this.tagId);\r\n\r\n\t\tapp.request({\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\turl: this.resourceUrl(),\r\n\t\t\tbody,\r\n\t\t}).then(this.success.bind(this), this.failure.bind(this));\r\n\t}\r\n\r\n\tresourceUrl() {\r\n\t\treturn app.forum.attribute(\"apiUrl\") + \"/\" + this.attrs.name;\r\n\t}\r\n\r\n\t/**\r\n\t * After a successful upload/removal, reload the page.\r\n\t *\r\n\t * @param {object} response\r\n\t * @protected\r\n\t */\r\n\tsuccess(response) {\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\t/**\r\n\t * If upload/removal fails, stop loading.\r\n\t *\r\n\t * @param {object} response\r\n\t * @protected\r\n\t */\r\n\tfailure(response) {\r\n\t\tthis.loading = false;\r\n\t\tm.redraw();\r\n\t}\r\n}\r\n","import Button from \"flarum/common/components/Button\";\r\nimport Modal from \"flarum/common/components/Modal\";\r\nimport Stream from \"flarum/common/utils/Stream\";\r\n\r\nexport default class WdcTagSettingsModal extends Modal {\r\n\toninit(vnode) {\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tthis.tagDefaultImage = Stream(this.attrs.model.data.attributes.walsgitDiscussionCardsTagDefaultImage);\r\n        console.log(this);\r\n\t}\r\n\tclassName() {\r\n\t\treturn \"WdcTagSettingsModal Modal--large\";\r\n\t}\r\n\r\n\ttitle() {\r\n\t\treturn app.translator.trans(\r\n\t\t\t\"walsgit_discussion_cards.admin.tag_modal.title\"\r\n\t\t);\r\n\t}\r\n\r\n\tcontent() {\r\n\t\treturn [\r\n\t\t\t<div className=\"Modal-body\">\r\n\t\t\t\t<div className=\"Form\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.intro_text\")}\r\n\t\t\t\t\t</p>\r\n                        \r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<textarea\r\n\t\t\t\t\t\t\tclassName=\"FormControl\"\r\n\t\t\t\t\t\t\trows=\"30\"\r\n\t\t\t\t\t\t\tbidi={this.tagDefaultImage}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"Button Button--primary\"\r\n\t\t\t\t\t\tloading={this.loading}\r\n\t\t\t\t\t\tdisabled={!this.changed()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.submit_button\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>,\r\n\t\t];\r\n\t}\r\n\r\n\tchanged() {\r\n\t\treturn this.tagDefaultImage() !== this.attrs.model.walsgit_discussion_cards_tag_default_image;\r\n\t}\r\n\r\n\tonsubmit(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst tag = this.attrs.model;\r\n\t\tconst tagDefaultImage = this.tagDefaultImage();\r\n\r\n\t\tthis.loading = true;\r\n\r\n\t\tapp.request({\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\turl:\r\n\t\t\t\tapp.forum.attribute(\"apiUrl\") +\r\n\t\t\t\t\"/tags/\" +\r\n\t\t\t\ttag.id() +\r\n\t\t\t\t\"/tagDefaultImage\",\r\n\t\t\tbody: { data: { tagDefaultImage } },\r\n\t\t}).then(function () {\r\n\t\t\ttag.data.attributes.tagDefaultImage = tagDefaultImage;\r\n\t\t\tapp.modal.close();\r\n\t\t});\r\n\t}\r\n}\r\n","import app from \"flarum/app\";\r\nimport Settings from \"./components/Settings\";\r\nimport { extend } from \"flarum/extend\";\r\nimport Model from \"flarum/common/Model\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport Tag from \"flarum/tags/models/Tag\";\r\nimport EditTagModal from \"flarum/tags/components/EditTagModal\";\r\nimport WdcTagSettingsModal from \"./components/WdcTagSettingsModal\";\r\nimport UploadTagImageButton from \"./components/UploadTagImageButton\";\r\n\r\napp.initializers.add(\"walsgit/discussion-cards\", () => {\r\n\tTag.prototype.WdcDefaultImage = Model.attribute(\r\n\t\t\"walsgit_discussion_cards_tag_default_image\"\r\n\t);\r\n\r\n\textend(EditTagModal.prototype, \"fields\", function (items) {\r\n\t\tif (this.tag.id()) {\r\n\t\t\tlet allowedTags = JSON.parse(app.forum.attribute('walsgitDiscussionCardsAllowedTags'));\r\n\t\t\tlet isActivatedForTag = allowedTags.includes(this.tag.id());\r\n\t\t\t\r\n\t\t\tlet activationBtnClasses = isActivatedForTag\r\n\t\t\t\t? \"DC-ActivationBtn Button activated\"\r\n\t\t\t\t: \"DC-ActivationBtn Button Button--primary\";\r\n\t\t\tlet DcTagSettingsClasses = isActivatedForTag ? \"DC-TagSettings\" : \"DC-TagSettings DC-Hidden\";\r\n\t\t\tlet activationBtnText = isActivatedForTag\r\n\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.tags.deactivation_button\")\r\n\t\t\t\t: app.translator.trans(\"walsgit_discussion_cards.admin.tags.activation_button\");\r\n\t\t\t\r\n\t\t\t// Fonction pour basculer l'état d'activation\r\n\t\t\tconst toggleActivation = () => {\r\n\t\t\t\tisActivatedForTag = !isActivatedForTag;\r\n\t\t\t\tif (isActivatedForTag) {\r\n\t\t\t\t\tallowedTags.push(this.tag.id());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tallowedTags = allowedTags.filter(id => id !== this.tag.id());\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Mettre à jour l'attribut sur le forum (à adapter selon ton système de stockage)\r\n\t\t\t\tapp.request({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: app.forum.attribute(\"apiUrl\") + \"/walsgit_discussion_cards_tag_update_allowedTags\",\r\n\t\t\t\t\tbody: { allowedTags },\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\t// Update the forum attribute with new allowedTags\r\n\t\t\t\t\tapp.forum.data.attributes.walsgitDiscussionCardsAllowedTags = JSON.stringify(allowedTags);\r\n\r\n\t\t\t\t\t// Toggle activation state\r\n\t\t\t\t\tisActivatedForTag = !isActivatedForTag;\r\n\t\t\t\t\t// Actualiser les classes et le texte après la mise à jour\r\n\t\t\t\t\tactivationBtnClasses = isActivatedForTag\r\n\t\t\t\t\t\t? \"DC-ActivationBtn Button activated\"\r\n\t\t\t\t\t\t: \"DC-ActivationBtn Button Button--primary\";\r\n\t\t\t\t\tDcTagSettingsClasses = isActivatedForTag ? \"DC-TagSettings\" : \"DC-TagSettings DC-Hidden\";\r\n\t\t\t\t\tactivationBtnText = isActivatedForTag\r\n\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.tags.deactivation_button\")\r\n\t\t\t\t\t\t: app.translator.trans(\"walsgit_discussion_cards.admin.tags.activation_button\");\r\n\t\t\t\t\tm.redraw(); // Mettre à jour l'affichage\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\titems.add(\r\n\t\t\t\t\"tag-discussion-cards-options\",\r\n\t\t\t\t<fieldset className=\"DC-Fieldset\">\r\n\t\t\t\t\t<legend>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.options_heading\")}\r\n\t\t\t\t\t</legend>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={activationBtnClasses}\r\n\t\t\t\t\t\ticon=\"fas fa-border-all\"\r\n\t\t\t\t\t\tonclick={toggleActivation}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{activationBtnText}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className={DcTagSettingsClasses}>\r\n\t\t\t\t\t\t<div className=\"DC-TagDefaultImageSettings\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.defaultImage_title\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.defaultImage_info\")}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{m(UploadTagImageButton, {\r\n\t\t\t\t\t\t\t\tname: \"walsgit_discussion_cards_tag_default_image\",\r\n\t\t\t\t\t\t\t\tclassName: \"DC-UploadTagImageBtn\",\r\n\t\t\t\t\t\t\t\tariaLabel: \"Upload a default image for this tag\",\r\n\t\t\t\t\t\t\t\ttagId: this.tag.id()\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"Button Button--primary\"\r\n\t\t\t\t\t\t\ticon=\"fas fa-border-all\"\r\n\t\t\t\t\t\t\tonclick={() => {\r\n\t\t\t\t\t\t\t\tapp.modal.show(WdcTagSettingsModal, { model: this.tag });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.options_button\")}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</fieldset>,\r\n\t\t\t\t-20\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\tapp.extensionData.for(\"walsgit-discussion-cards\").registerPage(Settings);\r\n});\r\n","module.exports = flarum.core.compat['admin/app'];","module.exports = flarum.core.compat['admin/components/ExtensionPage'];","module.exports = flarum.core.compat['admin/components/UploadImageButton'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/classList'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['tags/components/EditTagModal'];","module.exports = flarum.core.compat['tags/models/Tag'];","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\r\n * This file is part of Flarum.\r\n *\r\n * (c) Toby Zerner <toby.zerner@gmail.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nexport * from './src/admin';\r\n"],"names":["app","ExtensionPage","UploadImageButton","Settings","_ExtensionPage","apply","arguments","_inheritsLoose","_proto","prototype","content","m","className","translator","trans","buildSettingComponent","type","setting","label","help","options","requireParentTag","min","step","placeholder","max","forum","attribute","src","name","href","target","rel","submitButton","default","Button","classList","EditTagModal","UploadTagImageButton","_Button","props","_this","call","loading","tagId","attrs","view","vnode","store","data","tags","attributes","walsgitDiscussionCardsTagDefaultImage","onclick","remove","bind","alt","width","_extends","children","upload","_this2","$input","$","appendTo","hide","trigger","on","e","body","FormData","append","files","redraw","request","method","url","resourceUrl","serialize","raw","then","success","failure","response","window","location","reload","Modal","Stream","WdcTagSettingsModal","_Modal","oninit","tagDefaultImage","model","console","log","title","rows","bidi","disabled","changed","walsgit_discussion_cards_tag_default_image","onsubmit","preventDefault","tag","id","modal","close","extend","Model","icon","Tag","initializers","add","WdcDefaultImage","items","allowedTags","JSON","parse","isActivatedForTag","includes","activationBtnClasses","DcTagSettingsClasses","activationBtnText","toggleActivation","push","filter","walsgitDiscussionCardsAllowedTags","stringify","ariaLabel","show","extensionData","registerPage","Object","assign","n","length","t","r","hasOwnProperty","setPrototypeOf","o","create","constructor","_setPrototypeOf","__proto__"],"sourceRoot":""}