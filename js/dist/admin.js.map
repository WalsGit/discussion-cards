{"version":3,"file":"admin.js","mappings":"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","sources":["webpack://@walsgit/discussion-cards/./src/admin/components/Settings.js","webpack://@walsgit/discussion-cards/./src/admin/components/UploadTagImageButton.js","webpack://@walsgit/discussion-cards/./src/admin/components/WdcTagSettingsModal.js","webpack://@walsgit/discussion-cards/./src/admin/index.js","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['admin/app']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['admin/components/ExtensionPage']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['admin/components/UploadImageButton']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['app']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/Model']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/components/Button']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/components/Modal']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/helpers/icon']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/utils/Stream']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['common/utils/classList']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['extend']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['tags/components/EditTagModal']\"","webpack://@walsgit/discussion-cards/external root \"flarum.core.compat['tags/models/Tag']\"","webpack://@walsgit/discussion-cards/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://@walsgit/discussion-cards/./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js","webpack://@walsgit/discussion-cards/./node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","webpack://@walsgit/discussion-cards/webpack/bootstrap","webpack://@walsgit/discussion-cards/webpack/runtime/compat get default export","webpack://@walsgit/discussion-cards/webpack/runtime/define property getters","webpack://@walsgit/discussion-cards/webpack/runtime/hasOwnProperty shorthand","webpack://@walsgit/discussion-cards/webpack/runtime/make namespace object","webpack://@walsgit/discussion-cards/./admin.js"],"sourcesContent":["import app from \"flarum/admin/app\";\r\nimport ExtensionPage from \"flarum/admin/components/ExtensionPage\";\r\nimport UploadImageButton from 'flarum/admin/components/UploadImageButton';\r\n\r\nexport default class Settings extends ExtensionPage {\r\n\tcontent() {\r\n\t\treturn (\r\n\t\t\t<div className=\"DiscussionCardsSettings\">\r\n\t\t\t\t<div className=\"container\">\r\n\t\t\t\t\t<div className=\"DiscussionCardsSettings--content\">\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.where_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.where_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"flarum-tags.select-tags\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_allowedTags\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowedTags_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.allowedTags_help\"),\r\n\t\t\t\t\t\t\t\toptions: {\r\n\t\t\t\t\t\t\t\t\trequireParentTag: false,\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_onIndexPage\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.onIndexPage_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.onIndexPage_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCardOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCardOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tclassName: 'DC-Number',\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_primaryCards\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCards_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.primaryCards_help\"),\r\n\t\t\t\t\t\t\t\tmin: 0,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 4,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tclassName: 'DC-Number',\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_desktopCardWidth\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.desktopCardWidth_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.desktopCardWidth_help\"),\r\n\t\t\t\t\t\t\t\tmin: 10,\r\n\t\t\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 49,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"number\",\r\n\t\t\t\t\t\t\t\tclassName: 'DC-Number',\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_tabletCardWidth\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.tabletCardWidth_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.tabletCardWidth_help\"),\r\n\t\t\t\t\t\t\t\tmin: 10,\r\n\t\t\t\t\t\t\t\tmax: 100,\r\n\t\t\t\t\t\t\t\tstep: 1,\r\n\t\t\t\t\t\t\t\tplaceholder: 49,\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.cardOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.cardOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t<div className=\"DC-DefaultImageSettings\">\r\n\t\t\t\t\t\t\t\t<h4>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.defaultImage_title\")}</h4>\r\n\t\t\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.defaultImage_info\")}\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t{app.forum.attribute(\"walsgitDiscussionCardsDefaultImage\") === null \r\n\t\t\t\t\t\t\t\t\t? <div className=\"imgStub\"></div> \r\n\t\t\t\t\t\t\t\t\t: <img className=\"DC-UserUploadedImage\" src={app.forum.attribute(\"baseUrl\") + \"/assets/\" + app.forum.attribute(\"walsgitDiscussionCardsDefaultImage\")}/>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t{m(UploadImageButton, {name: \"walsgit_discussion_cards_default_image\", class: \"DC-UploadImageBtn\"})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_previewText\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.previewText_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.previewText_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showAuthor\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showAuthor_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showAuthor_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showReplies\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showReplies_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showReplies_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showBadges\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showBadges_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showBadges_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_markReadCards\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.markReadCards_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.markReadCards_help\"),\r\n\t\t\t\t\t\t\t})}\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<h3>{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.otherOptions_title\")}</h3>\r\n\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.otherOptions_info\")}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t<div className=\"Section\">\r\n\t\t\t\t\t\t\t<h4>If <a href=\"https://flarum.org/extension/flarumite/simple-discussion-views\" target=\"_blank\" rel=\"noopener noreferrer\">Flarumite Simple Discussion Views</a> is installed & activated</h4>\r\n\t\t\t\t\t\t\t{this.buildSettingComponent({\r\n\t\t\t\t\t\t\t\ttype: \"switch\",\r\n\t\t\t\t\t\t\t\tsetting: \"walsgit_discussion_cards_showViews\",\r\n\t\t\t\t\t\t\t\tlabel: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_label\"),\r\n\t\t\t\t\t\t\t\thelp: app.translator.trans(\"walsgit_discussion_cards.admin.settings.general.showViews_help\"),\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{this.submitButton()}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n\r\n\tonsubmit() {\r\n\t\tconst primaryCards = Number(this.setting('walsgit_discussion_cards_primaryCards')());\r\n\t\tconst desktopCardWidth = Number(this.setting('walsgit_discussion_cards_desktopCardWidth')());\r\n\t\tconst tabletCardWidth = Number(this.setting('walsgit_discussion_cards_tabletCardWidth')());\r\n\r\n        if (primaryCards < 0 || isNaN(primaryCards)) {\r\n            app.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.tag_modal.primaryCards_error'));\r\n            return false;\r\n        }\r\n        if (desktopCardWidth < 10 || desktopCardWidth > 100 || isNaN(desktopCardWidth)) {\r\n            app.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.tag_modal.desktopCardWidth_error'));\r\n            return false;\r\n        }\r\n        if (tabletCardWidth < 10 || tabletCardWidth > 100 || isNaN(tabletCardWidth)) {\r\n            app.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.tag_modal.tabletCardWidth_error'));\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n\tsaveSettings(e) {\r\n        if (!this.onsubmit()) {\r\n            return;\r\n        }\r\n\t\tconst settings = this.dirty();\r\n\r\n        super.saveSettings(e)\r\n\t\t.then(() => {\r\n\t\t\tconst newSettings = {};\r\n\t\t\tfor (const key in settings) {\r\n\t\t\t\tlet endOfKey = key.replace('walsgit_discussion_cards_', '');\r\n\t\t\t\tendOfKey = endOfKey.replace(/^./, endOfKey.charAt(0).toUpperCase());\r\n\t\t\t\tconst newKey = 'walsgitDiscussionCards' + endOfKey;\r\n\t\t\t\tnewSettings[newKey] = settings[key];\r\n\t\t\t}\r\n\t\t\tapp.forum.pushAttributes(newSettings);\r\n\t\t\t})\r\n\t\t\t.catch((error) => {\r\n\t\t\t\tconsole.error(error);\r\n\t\t\t});\r\n    }\r\n}\r\n","import app from \"flarum/admin/app\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport classList from \"flarum/common/utils/classList\";\r\nimport EditTagModal from \"flarum/tags/components/EditTagModal\";\r\n\r\n\r\nexport default class UploadTagImageButton extends Button {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.tagId = props.attrs.tagId;\r\n\t}\r\n\t\r\n\tloading = false;\r\n\r\n\tview(vnode) {\r\n\t\tthis.attrs.loading = this.loading;\r\n\t\tthis.attrs.className = classList(this.attrs.className, \"Button\");\r\n\r\n\t\tif (app.store.data.tags[this.tagId].data.attributes.walsgitDiscussionCardsTagDefaultImage) {\r\n\t\t\tthis.attrs.onclick = this.remove.bind(this);\r\n\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\tclassName=\"DC-TagDefaultImage\"\r\n\t\t\t\t\t\t\tsrc={\"assets/\" + app.store.data.tags[this.tagId].data.attributes.walsgitDiscussionCardsTagDefaultImage}\r\n\t\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t\t\twidth=\"200px\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{super.view({\r\n\t\t\t\t\t\t\t...vnode,\r\n\t\t\t\t\t\t\tchildren: app.translator.trans(\r\n\t\t\t\t\t\t\t\t\"core.admin.upload_image.remove_button\"\r\n\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t})}\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\tthis.attrs.onclick = this.upload.bind(this);\r\n\t\t}\r\n\r\n\t\treturn super.view({\r\n\t\t\t...vnode,\r\n\t\t\tchildren: app.translator.trans(\r\n\t\t\t\t\"core.admin.upload_image.upload_button\"\r\n\t\t\t),\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Prompt the user to upload an image.\r\n\t */\r\n\tupload() {\r\n\t\tif (this.loading) return;\r\n\r\n\t\tconst $input = $('<input type=\"file\">');\r\n\r\n\t\t$input\r\n\t\t\t.appendTo(\"body\")\r\n\t\t\t.hide()\r\n\t\t\t.trigger(\"click\")\r\n\t\t\t.on(\"change\", (e) => {\r\n\t\t\t\tconst body = new FormData();\r\n\t\t\t\tbody.append(this.attrs.name, $(e.target)[0].files[0]);\r\n\t\t\t\tbody.append('tagId', this.tagId);\r\n\r\n\t\t\t\tthis.loading = true;\r\n\t\t\t\tm.redraw();\r\n\r\n\t\t\t\tapp.request({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: this.resourceUrl(),\r\n\t\t\t\t\tserialize: (raw) => raw,\r\n\t\t\t\t\tbody,\r\n\t\t\t\t}).then(this.success.bind(this), this.failure.bind(this));\r\n\t\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Remove the image.\r\n\t */\r\n\tremove() {\r\n\t\tthis.loading = true;\r\n\t\tm.redraw();\r\n\t\t\r\n\t\tconst body = new FormData();\r\n\t\tbody.append('tagId', this.tagId);\r\n\r\n\t\tapp.request({\r\n\t\t\tmethod: \"DELETE\",\r\n\t\t\turl: this.resourceUrl(),\r\n\t\t\tbody,\r\n\t\t}).then(this.success.bind(this), this.failure.bind(this));\r\n\t}\r\n\r\n\tresourceUrl() {\r\n\t\treturn app.forum.attribute(\"apiUrl\") + \"/\" + this.attrs.name;\r\n\t}\r\n\r\n\t/**\r\n\t * After a successful upload/removal, reload the page.\r\n\t *\r\n\t * @param {object} response\r\n\t * @protected\r\n\t */\r\n\tsuccess(response) {\r\n\t\twindow.location.reload();\r\n\t}\r\n\r\n\t/**\r\n\t * If upload/removal fails, stop loading.\r\n\t *\r\n\t * @param {object} response\r\n\t * @protected\r\n\t */\r\n\tfailure(response) {\r\n\t\tthis.loading = false;\r\n\t\tm.redraw();\r\n\t}\r\n}\r\n","import Button from \"flarum/common/components/Button\";\r\nimport Modal from \"flarum/common/components/Modal\";\r\nimport Stream from \"flarum/common/utils/Stream\";\r\n\r\nlet defaultSettings = {};\r\n\r\nexport default class WdcTagSettingsModal extends Modal {\r\n\toninit(vnode) {\r\n\t\tsuper.oninit(vnode);\r\n\r\n\t\tthis.tagSettings = JSON.parse(this.attrs.model.data.attributes.walsgitDiscussionCardsTagSettings || null) || {};\r\n\t\tconsole.log(this.tagSettings);\r\n\r\n\t\tdefaultSettings = {\r\n\t\t\tprimaryCards: app.forum.data.attributes.walsgitDiscussionCardsPrimaryCards,\r\n\t\t\tdesktopCardWidth: app.forum.data.attributes.walsgitDiscussionCardsDesktopCardWidth,\r\n\t\t\ttabletCardWidth: app.forum.data.attributes.walsgitDiscussionCardsTabletCardWidth,\r\n\t\t}\r\n\t\t\r\n\t\tif (!this.tagSettings.hasOwnProperty('primaryCards') || this.tagSettings.primaryCards === null) {\r\n\t\t\tthis.tagSettings.primaryCards = defaultSettings.primaryCards;\r\n\t\t}\r\n\t\tif (!this.tagSettings.hasOwnProperty('desktopCardWidth') || this.tagSettings.desktopCardWidth === null) {\r\n\t\t\tthis.tagSettings.desktopCardWidth = defaultSettings.desktopCardWidth;\r\n\t\t}\r\n\t\tif (!this.tagSettings.hasOwnProperty('tabletCardWidth') || this.tagSettings.tabletCardWidth === null) {\r\n\t\t\tthis.tagSettings.tabletCardWidth = defaultSettings.tabletCardWidth;\r\n\t\t}\r\n\r\n\t\tthis.tagSettings.primaryCards = Stream(this.tagSettings.primaryCards);\r\n\t\tthis.tagSettings.desktopCardWidth = Stream(this.tagSettings.desktopCardWidth);\r\n\t\tthis.tagSettings.tabletCardWidth = Stream(this.tagSettings.tabletCardWidth);\r\n\t\t\r\n\t}\r\n\tclassName() {\r\n\t\treturn \"WdcTagSettingsModal Modal--large\";\r\n\t}\r\n\r\n\ttitle() {\r\n\t\treturn [\r\n\t\t\tapp.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.title\"),\r\n\t\t\t<span \r\n\t\t\t\tclassName=\"TagLabel colored\"\r\n\t\t\t\tstyle={\"--tag-bg: \" + this.attrs.model.data.attributes.color + \";\"}\r\n\t\t\t>\r\n\t\t\t\t<span className=\"TagLabel-text\">\r\n\t\t\t\t\t<span className=\"TagLabel-name\">{this.attrs.model.data.attributes.name}</span>\r\n\t\t\t\t</span>\r\n\t\t\t</span>\r\n\t\t]\r\n\t}\r\n\r\n\tcontent() {\r\n\t\treturn [\r\n\t\t\t<div className=\"Modal-body\">\r\n\t\t\t\t<div className=\"Form\">\r\n\t\t\t\t\t<p>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.intro_text\")}\r\n\t\t\t\t\t</p>\r\n                        \r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"primaryCards\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.primaryCards_label\")}</label>\r\n\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.primaryCards_help\", {default: defaultSettings.primaryCards})}</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"primaryCards\"\r\n\t\t\t\t\t\t\tclassName=\"FormControl DC-Number\"\r\n\t\t\t\t\t\t\tbidi={this.tagSettings.primaryCards}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"desktopCardWidth\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.desktopCardWidth_label\")}</label>\r\n\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.desktopCardWidth_help\", {default: defaultSettings.desktopCardWidth})}</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"desktopCardWidth\"\r\n\t\t\t\t\t\t\tclassName=\"FormControl DC-Number\"\r\n\t\t\t\t\t\t\tbidi={this.tagSettings.desktopCardWidth}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"Form-group\">\r\n\t\t\t\t\t\t<label htmlFor=\"tabletCardWidth\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.tabletCardWidth_label\")}</label>\r\n\t\t\t\t\t\t<div className=\"helpText\">{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.tabletCardWidth_help\", {default: defaultSettings.tabletCardWidth})}</div>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\tname=\"tabletCardWidth\"\r\n\t\t\t\t\t\t\tclassName=\"FormControl DC-Number\"\r\n\t\t\t\t\t\t\tbidi={this.tagSettings.tabletCardWidth}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\tclassName=\"Button Button--primary\"\r\n\t\t\t\t\t\tloading={this.loading}\r\n\t\t\t\t\t\tdisabled={this.changed()}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tag_modal.submit_button\")}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</div>\r\n\t\t\t</div>,\r\n\t\t];\r\n\t}\r\n\tchanged() {\r\n\t\tlet savedSettings = JSON.parse(this.attrs.model.data.attributes.walsgitDiscussionCardsTagSettings || 'null') || {};\r\n\r\n\t\tfunction isSameSettings(obj1, obj2) {\r\n\t\t\tif(typeof obj1 !== 'object' ||typeof obj2 !== 'object') {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\r\n\t\t\tif (Object.keys(obj1).length !== Object.keys(obj2).length) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\r\n\t\t\tfor (const key in obj1) {\r\n\t\t\t\tif (obj1.hasOwnProperty(key)) {\r\n\t\t\t\t\tif (typeof obj1[key] === 'object' && typeof obj2[key] === 'object') {\r\n\t\t\t\t\t\tif (!compareObjects(obj1[key], obj2[key])) {\r\n\t\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else if (obj1[key] !== obj2[key]) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\r\n\t\t\treturn true;\r\n\t\t}\r\n\r\n\t\treturn isSameSettings(JSON.parse(JSON.stringify(this.tagSettings)), savedSettings);\r\n\t}\r\n\r\n\tonsubmit(e) {\r\n\t\te.preventDefault();\r\n\r\n\t\t// Validate primaryCards\r\n\t\tconst primaryCards = parseInt(this.tagSettings.primaryCards());\r\n\t\tif (isNaN(primaryCards) || primaryCards < 0) {\r\n\t\t\tapp.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.tag_modal.primaryCards_error'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t// Validate desktopCardWidth\r\n\t\tconst desktopWidth = parseInt(this.tagSettings.desktopCardWidth());\r\n\t\tif (isNaN(desktopWidth) || desktopWidth < 10 || desktopWidth > 100) {\r\n\t\t\tapp.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.tag_modal.desktopCardWidth_error'));\r\n\t\t\treturn;\r\n\t\t}\r\n\t\r\n\t\t// Validate tabletCardWidth\r\n\t\tconst tabletWidth = parseInt(this.tagSettings.tabletCardWidth());\r\n\t\tif (isNaN(tabletWidth) || tabletWidth < 10 || tabletWidth > 100) {\r\n\t\t\tapp.alerts.show({ type: 'error' }, app.translator.trans('walsgit_discussion_cards.admin.tag_modal.tabletCardWidth_error'));\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tconst tag = this.attrs.model;\r\n\t\t// Update the values with validated integers\r\n\t\tthis.tagSettings.primaryCards(primaryCards);\r\n\t\tthis.tagSettings.desktopCardWidth(desktopWidth);\r\n\t\tthis.tagSettings.tabletCardWidth(tabletWidth);\r\n\r\n\t\tconst tagSettings = JSON.stringify(this.tagSettings);\r\n\r\n\t\tthis.loading = true;\r\n\r\n\t\tapp.request({\r\n\t\t\tmethod: \"PATCH\",\r\n\t\t\turl:\r\n\t\t\t\tapp.forum.attribute(\"apiUrl\") +\r\n\t\t\t\t\"/tags/\" +\r\n\t\t\t\ttag.id() +\r\n\t\t\t\t\"/tagSettings\",\r\n\t\t\tbody: { data: { tagSettings } },\r\n\t\t}).then(function () {\r\n\t\t\tconsole.log('before : ', tag.data.attributes.walsgitDiscussionCardsTagSettings);\r\n\t\t\ttag.data.attributes.walsgitDiscussionCardsTagSettings = tagSettings;\r\n\t\t\tconsole.log('after : ', tag.data.attributes.walsgitDiscussionCardsTagSettings);\r\n\t\t\tapp.modal.close();\r\n\t\t});\r\n\t}\r\n}\r\n","import app from \"flarum/app\";\r\nimport Settings from \"./components/Settings\";\r\nimport { extend } from \"flarum/extend\";\r\nimport Model from \"flarum/common/Model\";\r\nimport Button from \"flarum/common/components/Button\";\r\nimport icon from 'flarum/common/helpers/icon';\r\nimport Tag from \"flarum/tags/models/Tag\";\r\nimport EditTagModal from \"flarum/tags/components/EditTagModal\";\r\nimport WdcTagSettingsModal from \"./components/WdcTagSettingsModal\";\r\nimport UploadTagImageButton from \"./components/UploadTagImageButton\";\r\n\r\napp.initializers.add(\"walsgit/discussion-cards\", () => {\r\n\tTag.prototype.WdcDefaultImage = Model.attribute(\r\n\t\t\"walsgit_discussion_cards_tag_default_image\"\r\n\t);\r\n\r\n\textend(EditTagModal.prototype, \"fields\", function (items) {\r\n\t\tif (this.tag.id()) {\r\n\t\t\tlet allowedTags = JSON.parse(app.forum.attribute('walsgitDiscussionCardsAllowedTags'));\r\n\t\t\tlet isActivatedForTag = allowedTags.includes(this.tag.id());\r\n\t\t\t\r\n\t\t\tlet activationBtnClasses = isActivatedForTag\r\n\t\t\t\t? \"DC-ActivationBtn Button activated\"\r\n\t\t\t\t: \"DC-ActivationBtn Button Button--primary\";\r\n\t\t\tlet DcTagSettingsClasses = isActivatedForTag ? \"DC-TagSettings\" : \"DC-TagSettings DC-Hidden\";\r\n\t\t\tlet activationBtnText = isActivatedForTag\r\n\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.tags.deactivation_button\")\r\n\t\t\t\t: app.translator.trans(\"walsgit_discussion_cards.admin.tags.activation_button\");\r\n\t\t\t\r\n\t\t\t// Fonction pour basculer l'état d'activation\r\n\t\t\tconst toggleActivation = () => {\r\n\t\t\t\tisActivatedForTag = !isActivatedForTag;\r\n\t\t\t\tif (isActivatedForTag) {\r\n\t\t\t\t\tallowedTags.push(this.tag.id());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tallowedTags = allowedTags.filter(id => id !== this.tag.id());\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Mettre à jour l'attribut sur le forum (à adapter selon ton système de stockage)\r\n\t\t\t\tapp.request({\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\turl: app.forum.attribute(\"apiUrl\") + \"/walsgit_discussion_cards_tag_update_allowedTags\",\r\n\t\t\t\t\tbody: { allowedTags },\r\n\t\t\t\t}).then(() => {\r\n\t\t\t\t\t// Update the forum attribute with new allowedTags\r\n\t\t\t\t\tapp.forum.data.attributes.walsgitDiscussionCardsAllowedTags = JSON.stringify(allowedTags);\r\n\r\n\t\t\t\t\t// Toggle activation state\r\n\t\t\t\t\tisActivatedForTag = !isActivatedForTag;\r\n\t\t\t\t\t// Actualiser les classes et le texte après la mise à jour\r\n\t\t\t\t\tactivationBtnClasses = isActivatedForTag\r\n\t\t\t\t\t\t? \"DC-ActivationBtn Button activated\"\r\n\t\t\t\t\t\t: \"DC-ActivationBtn Button Button--primary\";\r\n\t\t\t\t\tDcTagSettingsClasses = isActivatedForTag ? \"DC-TagSettings\" : \"DC-TagSettings DC-Hidden\";\r\n\t\t\t\t\tactivationBtnText = isActivatedForTag\r\n\t\t\t\t\t\t? app.translator.trans(\"walsgit_discussion_cards.admin.tags.deactivation_button\")\r\n\t\t\t\t\t\t: app.translator.trans(\"walsgit_discussion_cards.admin.tags.activation_button\");\r\n\t\t\t\t\tm.redraw(); // Mettre à jour l'affichage\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\titems.add(\r\n\t\t\t\t\"tag-discussion-cards-options\",\r\n\t\t\t\t<fieldset className=\"DC-Fieldset\">\r\n\t\t\t\t\t<legend>\r\n\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.options_heading\")}\r\n\t\t\t\t\t</legend>\r\n\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tclassName={activationBtnClasses}\r\n\t\t\t\t\t\ticon=\"fas fa-border-all\"\r\n\t\t\t\t\t\tonclick={toggleActivation}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{activationBtnText}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<div className={DcTagSettingsClasses}>\r\n\t\t\t\t\t\t<div className=\"DC-TagDefaultImageSettings\">\r\n\t\t\t\t\t\t\t<h4>\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.defaultImage_title\")}\r\n\t\t\t\t\t\t\t</h4>\r\n\t\t\t\t\t\t\t<p className=\"helpText\">\r\n\t\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.defaultImage_info\")}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t{m(UploadTagImageButton, {\r\n\t\t\t\t\t\t\t\tname: \"walsgit_discussion_cards_tag_default_image\",\r\n\t\t\t\t\t\t\t\tclassName: \"DC-UploadTagImageBtn\",\r\n\t\t\t\t\t\t\t\tariaLabel: \"Upload a default image for this tag\",\r\n\t\t\t\t\t\t\t\ttagId: this.tag.id()\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tclassName=\"Button Button--primary\"\r\n\t\t\t\t\t\t\ticon=\"fas fa-border-all\"\r\n\t\t\t\t\t\t\tonclick={() => {\r\n\t\t\t\t\t\t\t\tapp.modal.show(WdcTagSettingsModal, { model: this.tag });\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{app.translator.trans(\"walsgit_discussion_cards.admin.tags.options_button\")}\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</fieldset>,\r\n\t\t\t\t-20\r\n\t\t\t);\r\n\t\t}\r\n\t});\r\n\r\n\tapp.extensionData.for(\"walsgit-discussion-cards\").registerPage(Settings);\r\n});\r\n","module.exports = flarum.core.compat['admin/app'];","module.exports = flarum.core.compat['admin/components/ExtensionPage'];","module.exports = flarum.core.compat['admin/components/UploadImageButton'];","module.exports = flarum.core.compat['app'];","module.exports = flarum.core.compat['common/Model'];","module.exports = flarum.core.compat['common/components/Button'];","module.exports = flarum.core.compat['common/components/Modal'];","module.exports = flarum.core.compat['common/helpers/icon'];","module.exports = flarum.core.compat['common/utils/Stream'];","module.exports = flarum.core.compat['common/utils/classList'];","module.exports = flarum.core.compat['extend'];","module.exports = flarum.core.compat['tags/components/EditTagModal'];","module.exports = flarum.core.compat['tags/models/Tag'];","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inheritsLoose(t, o) {\n  t.prototype = Object.create(o.prototype), t.prototype.constructor = t, setPrototypeOf(t, o);\n}\nexport { _inheritsLoose as default };","function _setPrototypeOf(t, e) {\n  return _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function (t, e) {\n    return t.__proto__ = e, t;\n  }, _setPrototypeOf(t, e);\n}\nexport { _setPrototypeOf as default };","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/*\r\n * This file is part of Flarum.\r\n *\r\n * (c) Toby Zerner <toby.zerner@gmail.com>\r\n *\r\n * For the full copyright and license information, please view the LICENSE\r\n * file that was distributed with this source code.\r\n */\r\n\r\nexport * from './src/admin';\r\n"],"names":["app","ExtensionPage","UploadImageButton","Settings","_ExtensionPage","apply","arguments","_inheritsLoose","_proto","prototype","content","m","className","translator","trans","buildSettingComponent","type","setting","label","help","options","requireParentTag","min","step","placeholder","max","forum","attribute","src","name","href","target","rel","submitButton","onsubmit","primaryCards","Number","desktopCardWidth","tabletCardWidth","isNaN","alerts","show","saveSettings","e","settings","dirty","call","then","newSettings","key","endOfKey","replace","charAt","toUpperCase","newKey","pushAttributes","error","console","default","Button","classList","EditTagModal","UploadTagImageButton","_Button","props","_this","loading","tagId","attrs","view","vnode","store","data","tags","attributes","walsgitDiscussionCardsTagDefaultImage","onclick","remove","bind","alt","width","_extends","children","upload","_this2","$input","$","appendTo","hide","trigger","on","body","FormData","append","files","redraw","request","method","url","resourceUrl","serialize","raw","success","failure","response","window","location","reload","Modal","Stream","defaultSettings","WdcTagSettingsModal","_Modal","oninit","tagSettings","JSON","parse","model","walsgitDiscussionCardsTagSettings","log","walsgitDiscussionCardsPrimaryCards","walsgitDiscussionCardsDesktopCardWidth","walsgitDiscussionCardsTabletCardWidth","hasOwnProperty","title","style","color","htmlFor","bidi","disabled","changed","savedSettings","isSameSettings","obj1","obj2","Object","keys","length","compareObjects","stringify","preventDefault","parseInt","desktopWidth","tabletWidth","tag","id","modal","close","extend","Model","icon","Tag","initializers","add","WdcDefaultImage","items","allowedTags","isActivatedForTag","includes","activationBtnClasses","DcTagSettingsClasses","activationBtnText","toggleActivation","push","filter","walsgitDiscussionCardsAllowedTags","ariaLabel","extensionData","registerPage","assign","n","t","r","setPrototypeOf","o","create","constructor","_setPrototypeOf","__proto__"],"sourceRoot":""}